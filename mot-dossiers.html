<BOUCLE_mot_dossiers(MOTS){id_mot=227}>


<BOUCLE_rubriques_dossiers(RUBRIQUES){id_mot}>
#SET_PUSH{rubriques,#ID_RUBRIQUE}
[(#SET{titre_rubrique,[(#TITRE|textebrut|sans_article|concat{_rub_#ID_RUBRIQUE})]})]
#SET_MERGE{dossiers,#GET{dossiers},#ARRAY{#GET{titre_rubrique},#ARRAY{rub,#ID_RUBRIQUE}}}
</BOUCLE_rubriques_dossiers>

<BOUCLE_articles_petit_dossier(ARTICLES){id_groupe=16}>
<BOUCLE_mot_petit_dossier(MOTS){id_article}{id_groupe=16}{unique}>
[(#ID_RUBRIQUE|in_array{#GET{rubriques}}|non)
    [(#SET_MERGE{rubrique_mot,#ARRAY{\[#ID_MOT\],#ID_RUBRIQUE}})]
    [(#SET{titre_mot,[(#TITRE|textebrut|sans_article|concat{_mot_#ID_MOT})]})]
    #SET_MERGE{dossiers,#GET{dossiers},#ARRAY{#GET{titre_mot},#ARRAY{mot,#ID_MOT}}}
]
</BOUCLE_mot_petit_dossier>
</BOUCLE_articles_petit_dossier>

<B_tri>
#PAGINATION
<BOUCLE_tri(DATA){source table,#GET{dossiers}}{par cle}{pagination 10}>[<pre>(#VALEUR|print_r{1})</pre>]
<BOUCLE_test_mot(POUR){tableau #VALEUR}{cle==mot}>

    <BOUCLE_mot(MOTS){id_mot=#VALEUR}>
    [(#GET{rubrique_mot}|table_valeur{\[#ID_MOT\]}) : ]
    MOT #ID_MOT / #TITRE <br>
    </BOUCLE_mot>
</BOUCLE_test_mot>
<BOUCLE_t_rubrique(DATA){source table,#VALEUR}{cle==rub}>
    <BOUCLE_rubrique(RUBRIQUES){id_rubrique=#VALEUR}>
    RUBRIQUE #ID_RUBRIQUE / #TITRE <br>
    </BOUCLE_rubrique>
</BOUCLE_t_rubrique>
</BOUCLE_tri>

</B_tri>


</BOUCLE_mot_dossiers>